version: '3'

services:
  # xciot:
  #   build: ./ap
  #   container_name: xciot
  #   ports:
  #     - 8080:8080
  #   environment:
  #     TZ: Asia/Tokyo
  #   volumes:
  #     - ./ap/bin/setenv.sh:/usr/local/tomcat/bin/setenv.sh
  #     - ./ap/conf/server.xml:/usr/local/tomcat/conf/server.xml
  #     - ./ap/conf/tomcat-users.xml:/usr/local/tomcat/conf/tomcat-users.xml
  #     # - ./ap/webapps/xcent.war:/usr/local/tomcat/webapps/xcent.war
  #     # - /opt/xcent:/opt/xcent
  #     # - /opt/xcent/tomcat/logs:/usr/local/tomcat/logs
  # zookeeper:
  #   hostname: zookeeper
  #   container_name: zookeeper
  #   image: 'bitnami/zookeeper:latest'
  #   environment:
  #     - ALLOW_ANONYMOUS_LOGIN=yes
  nifi:
    build: ./nifi
    container_name: nifi
    ports:
      - 8443:8443
    environment:
      - SINGLE_USER_CREDENTIALS_USERNAME=admin
      - SINGLE_USER_CREDENTIALS_PASSWORD=ctsBtRBKHRAx69EqUghvvgEvjnaLjFEB
    #   - NIFI_WEB_HTTP_PORT=8080
    #   - NIFI_CLUSTER_IS_NODE=true
    #   - NIFI_CLUSTER_NODE_PROTOCOL_PORT=8082
    #   - NIFI_ZK_CONNECT_STRING=zookeeper:2181
    #   - NIFI_ELECTION_MAX_WAIT=1 min
